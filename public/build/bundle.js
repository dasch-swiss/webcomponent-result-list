!function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function a(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let l,s;function i(e,t){return l||(l=document.createElement("a")),l.href=t,e===l.href}function u(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function d(e){e.parentNode.removeChild(e)}function h(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function f(e){return document.createElement(e)}function p(e){return document.createTextNode(e)}function m(){return p(" ")}function g(){return p("")}function k(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function v(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function b(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function $(e){const t={};for(const n of e)t[n.name]=n.value;return t}function y(e){s=e}function w(){if(!s)throw new Error("Function called outside component initialization");return s}const V=[],x=[],E=[],A=[],S=Promise.resolve();let _=!1;function I(e){E.push(e)}let j=!1;const P=new Set;function T(){if(!j){j=!0;do{for(let e=0;e<V.length;e+=1){const t=V[e];y(t),C(t.$$)}for(y(null),V.length=0;x.length;)x.pop()();for(let e=0;e<E.length;e+=1){const t=E[e];P.has(t)||(P.add(t),t())}E.length=0}while(V.length);for(;A.length;)A.pop()();_=!1,j=!1,P.clear()}}function C(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(I)}}const O=new Set;let F,N;function R(e,t){e&&e.i&&(O.delete(e),e.i(t))}function H(e,t){const n=t.token={};function a(e,a,o,l){if(t.token!==n)return;t.resolved=l;let s=t.ctx;void 0!==o&&(s=s.slice(),s[o]=l);const i=e&&(t.current=e)(s);let u=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==a&&e&&(F={r:0,c:[],p:F},function(e,t,n,r){if(e&&e.o){if(O.has(e))return;O.add(e),F.c.push((()=>{O.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),F.r||r(F.c),F=F.p)})):t.block.d(1),i.c(),R(i,1),i.m(t.mount(),t.anchor),u=!0),t.block=i,t.blocks&&(t.blocks[a]=i),u&&T()}if((o=e)&&"object"==typeof o&&"function"==typeof o.then){const n=w();if(e.then((e=>{y(n),a(t.then,1,t.value,e),y(null)}),(e=>{if(y(n),a(t.catch,2,t.error,e),y(null),!t.hasCatch)throw e})),t.current!==t.pending)return a(t.pending,0),!0}else{if(t.current!==t.then)return a(t.then,1,t.value,e),!0;t.resolved=e}var o}function L(e,t,n){const r=t.slice(),{resolved:a}=e;e.current===e.then&&(r[e.value]=a),e.current===e.catch&&(r[e.error]=a),e.block.p(r,n)}function U(e,t){-1===e.$$.dirty[0]&&(V.push(e),_||(_=!0,S.then(T)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function q(o,l,i,u,c,h,f,p=[-1]){const m=s;y(o);const g=o.$$={fragment:null,ctx:null,props:h,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(m?m.$$.context:l.context||[]),callbacks:n(),dirty:p,skip_bound:!1,root:l.target||m.$$.root};f&&f(g.root);let k=!1;if(g.ctx=i?i(o,l.props||{},((e,t,...n)=>{const r=n.length?n[0]:t;return g.ctx&&c(g.ctx[e],g.ctx[e]=r)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](r),k&&U(o,e)),t})):[],g.update(),k=!0,r(g.before_update),g.fragment=!!u&&u(g.ctx),l.target){if(l.hydrate){const e=function(e){return Array.from(e.childNodes)}(l.target);g.fragment&&g.fragment.l(e),e.forEach(d)}else g.fragment&&g.fragment.c();l.intro&&R(o.$$.fragment),function(e,n,o,l){const{fragment:s,on_mount:i,on_destroy:u,after_update:c}=e.$$;s&&s.m(n,o),l||I((()=>{const n=i.map(t).filter(a);u?u.push(...n):r(n),e.$$.on_mount=[]})),c.forEach(I)}(o,l.target,l.anchor,l.customElement),T()}y(m)}async function D(e,t){switch(t.requestType){case"gravsearch":return async function(e,t){return fetch(t.url,{method:t.method,body:t.gravSearch+`\n OFFSET ${e}`}).then((e=>e.ok?e.json():Promise.reject(new Error(`${e.status.toString()}: ${e.statusText}`))))}(e,t);case"fulltext":return async function(e,t){let n=t.url;n.includes("?")?(n+="?",console.log("Reached 1.1")):(n+="&",console.log("Reached 1.2"));return console.log("Reached 2"),n+="offset="+e.toString(),console.log(n),fetch(n,{method:t.method}).then((e=>e.ok?(console.log(e),e.json()):Promise.reject(new Error(`${e.status.toString()}: ${e.statusText}`))))}(e,t);default:console.log("Didnt find matching search method")}}async function z(e,t){switch(t.requestType){case"gravsearch":return async function(e){return fetch(e.url+"/count",{method:e.method,body:e.gravSearch}).then((e=>e.ok?e.json():Promise.reject(new Error(`${e.status.toString()}: ${e.statusText}`))))}(e);case"fulltextsearch":return async function(e){return fetch(e.url.replace("search/","search/count/"),{method:e.method}).then((e=>e.ok?e.json():Promise.reject(new Error(`${e.status.toString()}: ${e.statusText}`))))}(e);default:console.log("Didnt find matching search method")}}async function B(e,t,n){return t?fetch(`https://${n.server}/v2/resources/${encodeURIComponent(e)}`,{headers:new Headers({Authorization:`Bearer ${t}`})}).then((e=>e.ok?e.json():Promise.reject(new Error(`${e.status.toString()}: ${e.statusText}`)))):Promise.reject(new Error("No valid token"))}"function"==typeof HTMLElement&&(N=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(t).filter(a);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){r(this.$$.on_disconnect)}$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});class M{constructor(e,t,n,r){this.id=e,this.url=t,this.x=n,this.y=r}}function G(e,t,n){const r=e.slice();return r[33]=t[n],r}function K(e,t,n){const r=e.slice();return r[36]=t[n][0],r[37]=t[n][1],r}function J(e,t,n){const r=e.slice();return r[40]=t[n],r}function X(e,t,n){const r=e.slice();return r[30]=t[n],r[32]=n,r}function Y(t){let n,r,a,o,l,s,i,h,p;return{c(){n=f("div"),r=f("div"),r.textContent="Something went wrong",a=m(),o=f("div"),o.textContent="Resource data couldn't be loaded. Let's give it another shot!",l=m(),s=f("div"),i=f("button"),i.textContent="Try again",v(r,"class","error-header"),v(o,"class","error-text"),v(s,"class","error-btn-container"),v(n,"class","error")},m(e,d){c(e,n,d),u(n,r),u(n,a),u(n,o),u(n,l),u(n,s),u(s,i),h||(p=k(i,"click",t[17]),h=!0)},p:e,d(e){e&&d(n),h=!1,p()}}}function Q(e){let t,n,r=e[3]&&W(e),a=e[4]&&pe();return{c(){r&&r.c(),t=m(),a&&a.c(),n=g()},m(e,o){r&&r.m(e,o),c(e,t,o),a&&a.m(e,o),c(e,n,o)},p(e,o){e[3]?r?r.p(e,o):(r=W(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),e[4]?a||(a=pe(),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(e){r&&r.d(e),e&&d(t),a&&a.d(e),e&&d(n)}}}function W(e){let t,n;function r(e,n){var r;return(null==t||2&n[0])&&(r=e[29],t=!(0!==Object.keys(r).length)),t?ee:Z}let a=r(e,[-1,-1]),o=a(e);return{c(){o.c(),n=g()},m(e,t){o.m(e,t),c(e,n,t)},p(e,t){a===(a=r(e,t))&&o?o.p(e,t):(o.d(1),o=a(e),o&&(o.c(),o.m(n.parentNode,n)))},d(e){o.d(e),e&&d(n)}}}function Z(e){let t,n,a,o,l,s,i,h,v,b,$,y,w={ctx:e,current:null,token:null,hasCatch:!1,pending:re,then:ne,catch:te,value:43};function V(e,t){return"images"===e[0]?oe:"properties"===e[0]?ae:void 0}H(h=e[2],w);let x=V(e),E=x&&x(e);return{c(){t=f("button"),n=p("<"),a=m(),o=f("button"),l=p(">"),i=m(),w.block.c(),v=m(),E&&E.c(),b=g(),t.disabled=e[10](),o.disabled=s=we(e[29])},m(r,s){c(r,t,s),u(t,n),c(r,a,s),c(r,o,s),u(o,l),c(r,i,s),w.block.m(r,w.anchor=s),w.mount=()=>v.parentNode,w.anchor=v,c(r,v,s),E&&E.m(r,s),c(r,b,s),$||(y=[k(t,"click",e[14]),k(o,"click",e[15])],$=!0)},p(t,n){e=t,2&n[0]&&s!==(s=we(e[29]))&&(o.disabled=s),w.ctx=e,4&n[0]&&h!==(h=e[2])&&H(h,w)||L(w,e,n),x===(x=V(e))&&E?E.p(e,n):(E&&E.d(1),E=x&&x(e),E&&(E.c(),E.m(b.parentNode,b)))},d(e){e&&d(t),e&&d(a),e&&d(o),e&&d(i),w.block.d(e),w.token=null,w=null,e&&d(v),E&&E.d(e),e&&d(b),$=!1,r(y)}}}function ee(t){let n;return{c(){n=p("No data found!")},m(e,t){c(e,n,t)},p:e,d(e){e&&d(n)}}}function te(t){return{c:e,m:e,p:e,d:e}}function ne(e){let t,n,r,a=e[11](e[29])+"",o=e[43]["schema:numberOfItems"]+"";return{c(){t=p(a),n=p(" of "),r=p(o)},m(e,a){c(e,t,a),c(e,n,a),c(e,r,a)},p(e,n){2&n[0]&&a!==(a=e[11](e[29])+"")&&b(t,a),4&n[0]&&o!==(o=e[43]["schema:numberOfItems"]+"")&&b(r,o)},d(e){e&&d(t),e&&d(n),e&&d(r)}}}function re(t){return{c:e,m:e,p:e,d:e}}function ae(e){let t,n=e[5],r=[];for(let t=0;t<n.length;t+=1)r[t]=ce(G(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=g()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);c(e,t,n)},p(e,a){if(32&a[0]){let o;for(n=e[5],o=0;o<n.length;o+=1){const l=G(e,n,o);r[o]?r[o].p(l,a):(r[o]=ce(l),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){h(r,e),e&&d(t)}}}function oe(e){let t;function n(e,t){return e[6].length>0?he:de}let r=n(e),a=r(e);return{c(){t=f("section"),a.c(),v(t,"class","img-section")},m(e,n){c(e,t,n),a.m(t,null)},p(e,o){r===(r=n(e))&&a?a.p(e,o):(a.d(1),a=r(e),a&&(a.c(),a.m(t,null)))},d(e){e&&d(t),a.d()}}}function le(e){let t,n,r,a,o;return{c(){t=f("div"),n=m(),r=f("div"),a=f("img"),i(a.src,o=ye(e[33]["knora-api:hasStillImageFileValue"].values.url,ke))||v(a,"src",o)},m(e,o){c(e,t,o),c(e,n,o),c(e,r,o),u(r,a)},p(e,t){32&t[0]&&!i(a.src,o=ye(e[33]["knora-api:hasStillImageFileValue"].values.url,ke))&&v(a,"src",o)},d(e){e&&d(t),e&&d(n),e&&d(r)}}}function se(e){let t,n,r,a,o=(e[37].labels?e[37].labels.en:"Property")+"",l=e[37].values,s=[];for(let t=0;t<l.length;t+=1)s[t]=ie(J(e,l,t));return{c(){t=f("div"),n=p(o),r=m(),a=f("div");for(let e=0;e<s.length;e+=1)s[e].c();v(t,"class","prop-header")},m(e,o){c(e,t,o),u(t,n),c(e,r,o),c(e,a,o);for(let e=0;e<s.length;e+=1)s[e].m(a,null)},p(e,t){if(32&t[0]&&o!==(o=(e[37].labels?e[37].labels.en:"Property")+"")&&b(n,o),32&t[0]){let n;for(l=e[37].values,n=0;n<l.length;n+=1){const r=J(e,l,n);s[n]?s[n].p(r,t):(s[n]=ie(r),s[n].c(),s[n].m(a,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=l.length}},d(e){e&&d(t),e&&d(r),e&&d(a),h(s,e)}}}function ie(e){let t,n=e[40]+"";return{c(){t=f("div")},m(e,r){c(e,t,r),t.innerHTML=n},p(e,r){32&r[0]&&n!==(n=e[40]+"")&&(t.innerHTML=n)},d(e){e&&d(t)}}}function ue(e){let t,n="knora-api:hasStillImageFileValue"!==e[36]&&se(e);return{c(){n&&n.c(),t=g()},m(e,r){n&&n.m(e,r),c(e,t,r)},p(e,r){"knora-api:hasStillImageFileValue"!==e[36]?n?n.p(e,r):(n=se(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&d(t)}}}function ce(e){let t,n,r,a=e[33].hasOwnProperty("knora-api:hasStillImageFileValue"),o=a&&le(e),l=Object.entries(e[33]),s=[];for(let t=0;t<l.length;t+=1)s[t]=ue(K(e,l,t));return{c(){t=f("section"),o&&o.c(),n=m();for(let e=0;e<s.length;e+=1)s[e].c();r=m(),v(t,"class","res-section")},m(e,a){c(e,t,a),o&&o.m(t,null),u(t,n);for(let e=0;e<s.length;e+=1)s[e].m(t,null);u(t,r)},p(e,i){if(32&i[0]&&(a=e[33].hasOwnProperty("knora-api:hasStillImageFileValue")),a?o?o.p(e,i):(o=le(e),o.c(),o.m(t,n)):o&&(o.d(1),o=null),32&i[0]){let n;for(l=Object.entries(e[33]),n=0;n<l.length;n+=1){const a=K(e,l,n);s[n]?s[n].p(a,i):(s[n]=ue(a),s[n].c(),s[n].m(t,r))}for(;n<s.length;n+=1)s[n].d(1);s.length=l.length}},d(e){e&&d(t),o&&o.d(),h(s,e)}}}function de(t){let n;return{c(){n=f("div"),n.textContent="No Results"},m(e,t){c(e,n,t)},p:e,d(e){e&&d(n)}}}function he(e){let t,n=e[6],r=[];for(let t=0;t<n.length;t+=1)r[t]=fe(X(e,n,t));return{c(){t=f("div");for(let e=0;e<r.length;e+=1)r[e].c();var e,n,a;v(t,"class","images-container"),e="--size",n=ke+"px",t.style.setProperty(e,n,a?"important":"")},m(e,n){c(e,t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,a){if(64&a[0]){let o;for(n=e[6],o=0;o<n.length;o+=1){const l=X(e,n,o);r[o]?r[o].p(l,a):(r[o]=fe(l),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){e&&d(t),h(r,e)}}}function fe(e){let t,n,r,a,o;function l(){return e[16](e[30])}return{c(){t=f("img"),v(t,"class","small-image"),i(t.src,n=$e(e[30].url,ke))||v(t,"src",n),v(t,"alt",r="result image number "+(e[32]+1))},m(e,n){c(e,t,n),a||(o=k(t,"click",l),a=!0)},p(r,a){e=r,64&a[0]&&!i(t.src,n=$e(e[30].url,ke))&&v(t,"src",n)},d(e){e&&d(t),a=!1,o()}}}function pe(e){let t;return{c(){t=p("No invalid images")},m(e,n){c(e,t,n)},d(e){e&&d(t)}}}function me(t){let n;return{c(){n=f("div"),n.textContent="...loading data"},m(e,t){c(e,n,t)},p:e,d(e){e&&d(n)}}}function ge(t){let n,r,a={ctx:t,current:null,token:null,hasCatch:!0,pending:me,then:Q,catch:Y,value:29,error:44};return H(r=t[1],a),{c(){n=f("div"),a.block.c(),this.c=e,v(n,"class","container")},m(e,t){c(e,n,t),a.block.m(n,a.anchor=null),a.mount=()=>n,a.anchor=null},p(e,n){t=e,a.ctx=t,2&n[0]&&r!==(r=t[1])&&H(r,a)||L(a,t,n)},i:e,o:e,d(e){e&&d(n),a.block.d(),a.token=null,a=null}}}const ke=150;function ve(e){if(Array.isArray(e)){let t={};return e.forEach((e=>{e.hasOwnProperty("@language")?t[e["@language"]]=e["@value"]:e.hasOwnProperty("language")&&(t[e.language]=e.value)})),t}{let t={};return e.hasOwnProperty("@language")?t[e["@language"]]=e["@value"]:e.hasOwnProperty("language")&&(t[e.language]=e.value),t}}function be(e){return e.hasOwnProperty("@graph")&&Array.isArray(e["@graph"])?e["@graph"].every((e=>e["knora-api:hasStillImageFileValue"])):e.hasOwnProperty("knora-api:hasStillImageFileValue")}function $e(e,t){return`${e}/square/${t},/0/default.jpg`}function ye(e,t){return`${e}/full/${t},/0/default.jpg`}function we(e){return!(e.hasOwnProperty("knora-api:mayHaveMoreResults")&&e["knora-api:mayHaveMoreResults"])}function Ve(e){return e["@graph"]?e["@graph"]:e["@id"]?[e]:[]}function xe(e,t,n){let r,a,o,l,s,{request_infos:i}=t,u="",{current_offset:c=0}=t,d=!1,h=!1,f=[],p=[];function m(){if(i.hasOwnProperty("ontologyIri")&&i.hasOwnProperty("server")&&i.hasOwnProperty("shortCode")&&i.hasOwnProperty("method")&&i.hasOwnProperty("url")){n(12,c=0),n(0,u=!i.display||"properties"!==i.display&&"images"!==i.display?"properties":i.display);const e=async function(e){return fetch(`https://${e.server}/v2/authentication`,{headers:new Headers({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify({email:e.user.email,password:e.user.pwd})}).then((e=>e.ok?e.json():Promise.reject(new Error(`${e.status.toString()}: ${e.statusText}`))))}(i),t=async function(e){return fetch(`https://${e.server}/admin/lists?${new URLSearchParams({projectIri:"http://rdfh.ch/projects/"+e.shortCode})}`).then((e=>e.ok?e.json():Promise.reject(new Error(e.statusText))))}(i).then((e=>e.lists)),f=async function(e){return fetch("https://"+e.server+"/v2/ontologies/allentities/"+encodeURIComponent("http://"+e.server+"/ontology/"+e.shortCode+"/"+e.ontologyIri+"/v2")+"?allLanguages=true",{method:"GET"}).then((e=>e.ok?e.json().then((e=>e["@graph"])):Promise.reject(new Error(e.statusText))))}(i),m=D(c,i);n(1,r=Promise.all([e,t,f,m]).then((([e,t,r,c])=>(o=e,l=t,s=r,"images"===u?be(c)?(n(6,p=b(Ve(c))),n(2,a=z(i)),n(3,d=!0)):n(4,h=!0):(k(c),n(2,a=z(i)),n(3,d=!0)),c))))}else console.log("not valid input")}function g(e){n(1,r=D(e,i).then((e=>("images"===u?be(e)?(n(6,p=b(Ve(e))),n(3,d=!0)):n(4,h=!0):(k(e),n(3,d=!0)),e))))}async function k(e){n(5,f=[]);for(let t of Ve(e)){const e=await B(t["@id"],o,i),r={"knora-api:arkUrl":{labels:{en:"ARK Url",de:"ARK Url"},values:new Array(`<a href=${e["knora-api:arkUrl"]["@value"]} target='_blank'>${e["knora-api:arkUrl"]["@value"]}</a>`)},"@id":{labels:{en:"Resource ID",de:"Resource ID"},values:new Array(t["@id"])}};for(const[t,n]of Object.entries(e))if(t.includes(`${i.ontologyIri}:`)){const e=t.replace("Value","");if(Array.isArray(n))for(let t of n)await v(e,t,r);else await v(e,n,r)}e.hasOwnProperty("knora-api:hasStillImageFileValue")&&(r["knora-api:hasStillImageFileValue"]={labels:{en:"Still image",de:"Bild"},values:$(e)}),n(5,f=[...f,r])}}async function v(e,t,n){switch(t["@type"]){case"knora-api:DecimalValue":s.forEach((r=>{r["@id"]===e&&(n[e]?n[e].values.push(t["knora-api:decimalValueAsDecimal"]["@value"]):n[e]={values:[t["knora-api:decimalValueAsDecimal"]["@value"]],labels:ve(r["rdfs:label"])})}));break;case"knora-api:BooleanValue":s.forEach((r=>{r["@id"]===e&&(n[e]?n[e].values.push(t["knora-api:booleanValueAsBoolean"]):n[e]={values:[t["knora-api:booleanValueAsBoolean"]],labels:ve(r["rdfs:label"])})}));break;case"knora-api:ColorValue":s.forEach((r=>{r["@id"]===e&&(n[e]?n[e].values.push(t["knora-api:colorValueAsColor"]):n[e]={values:[t["knora-api:colorValueAsColor"]],labels:ve(r["rdfs:label"])})}));break;case"knora-api:TimeValue":s.forEach((r=>{r["@id"]===e&&(n[e]?n[e].values.push(t["knora-api:timeValueAsTimeStamp"]["@value"]):n[e]={values:[t["knora-api:timeValueAsTimeStamp"]["@value"]],labels:ve(r["rdfs:label"])})}));break;case"knora-api:UriValue":s.forEach((r=>{r["@id"]===e&&(n[e]?n[e].values.push(t["knora-api:uriValueAsUri"]["@value"]):n[e]={values:[t["knora-api:uriValueAsUri"]["@value"]],labels:ve(r["rdfs:label"])})}));break;case"knora-api:GeomValue":break;case"knora-api:GeonameValue":s.forEach((r=>{r["@id"]===e&&(n[e]?n[e].values.push(t["knora-api:geonameValueAsGeonameCode"]):n[e]={values:[t["knora-api:geonameValueAsGeonameCode"]],labels:ve(r["rdfs:label"])})}));break;case"knora-api:IntervalValue":s.forEach((r=>{r["@id"]===e&&(n[e]?n[e].values.push(`${t["knora-api:intervalValueHasStart"]["@value"]}-${t["knora-api:intervalValueHasEnd"]["@value"]}`):n[e]={values:[`${t["knora-api:intervalValueHasStart"]["@value"]}-${t["knora-api:intervalValueHasEnd"]["@value"]}`],labels:ve(r["rdfs:label"])})}));break;case"knora-api:TextValue":s.forEach((r=>{r["@id"]===e&&(n[e]?n[e].values.push(t["knora-api:valueAsString"]):n[e]={values:new Array(t["knora-api:valueAsString"]),labels:ve(r["rdfs:label"])})}));break;case"knora-api:IntValue":s.forEach((r=>{r["@id"]===e&&(n[e]?n[e].values.push(t["knora-api:intValueAsInt"]):n[e]={values:[t["knora-api:intValueAsInt"]],labels:ve(r["rdfs:label"])})}));break;case"knora-api:DateValue":s.forEach((r=>{r["@id"]===e&&(n[e]?n[e].values.push(t["knora-api:valueAsString"]):n[e]={values:new Array(t["knora-api:valueAsString"]),labels:ve(r["rdfs:label"])})}));break;case"knora-api:ListValue":const r=await async function(e,t,n){return t?fetch(`https://${n.server}/v2/node/${encodeURIComponent(e)}`,{headers:new Headers({Authorization:`Bearer ${t}`})}).then((e=>e.ok?e.json():Promise.reject(new Error(e.statusText)))):Promise.reject(new Error("No valid token"))}(t["knora-api:listValueAsListNode"]["@id"],o,i);l.forEach((e=>{e.id===r["knora-api:hasRootNode"]["@id"]&&(n[r["knora-api:hasRootNode"]["@id"]]?n[r["knora-api:hasRootNode"]["@id"]].values.push(r["rdfs:label"]):n[r["knora-api:hasRootNode"]["@id"]]={values:new Array(r["rdfs:label"]),labels:ve(e.labels)})}));break;case"knora-api:LinkValue":s.forEach((r=>{r["@id"]===e&&(n[e]?n[e].values.push(t["knora-api:linkValueHasTarget"]["@id"]):n[e]={values:new Array(t["knora-api:linkValueHasTarget"]["@id"]),labels:ve(r["rdfs:label"])})}))}}function b(e){return[...e.map((e=>$(e)))]}function $(e){const t=`${e["knora-api:hasStillImageFileValue"]["knora-api:stillImageFileValueHasIIIFBaseUrl"]["@value"]}/${e["knora-api:hasStillImageFileValue"]["knora-api:fileValueHasFilename"]}`;return new M(e["@id"],t,e["knora-api:hasStillImageFileValue"]["knora-api:stillImageFileValueHasDimX"],e["knora-api:hasStillImageFileValue"]["knora-api:stillImageFileValueHasDimY"])}function y(){g(n(12,c+=1))}function w(){g(n(12,c-=1))}return e.$$set=e=>{"request_infos"in e&&n(13,i=e.request_infos),"current_offset"in e&&n(12,c=e.current_offset)},e.$$.update=()=>{8192&e.$$.dirty[0]&&i&&m()},[u,r,a,d,h,f,p,m,y,w,function(){return 0===c},function(e){return e.hasOwnProperty("@graph")?`${25*c+1}-${25*c+e["@graph"].length}`:""+(25*c+1)},c,i,()=>w(),()=>y(),e=>function(e){console.log("Clicked on image",ye(e.url,700))}(e),()=>m()]}customElements.define("result-list",class extends N{constructor(e){super(),this.shadowRoot.innerHTML="<style>.container{margin-top:1rem;border:1px solid lightgray;padding:1rem}.res-section{margin:1rem 0;padding:1.5rem;display:grid;grid-template-columns:auto 1fr;gap:1rem;border:1px solid darkgray;font-size:smaller}@media(max-width: 600px){.res-section{grid-template-columns:1fr;gap:0.5rem}}.prop-header{font-weight:bold}.error{text-align:center}.error-header{font-size:larger;margin-top:0.5rem}.error-text{margin:0.5rem}.error-btn-container>button{margin:0.5rem;background-color:dodgerblue;color:white}.img-section{margin:1rem 0}.images-container{margin-top:1rem;margin-bottom:1rem;display:grid;justify-content:center;grid-template-columns:repeat(auto-fill, minmax(var(--size), var(--size)));gap:1rem}.small-image{opacity:1;-webkit-transition:.3s ease-in-out;transition:.3s ease-in-out}.small-image:hover{opacity:.5;cursor:pointer}</style>",q(this,{target:this.shadowRoot,props:$(this.attributes),customElement:!0},xe,ge,o,{request_infos:13,current_offset:12},null,[-1,-1]),e&&(e.target&&c(e.target,this,e.anchor),e.props&&(this.$set(e.props),T()))}static get observedAttributes(){return["request_infos","current_offset"]}get request_infos(){return this.$$.ctx[13]}set request_infos(e){this.$$set({request_infos:e}),T()}get current_offset(){return this.$$.ctx[12]}set current_offset(e){this.$$set({current_offset:e}),T()}})}();
//# sourceMappingURL=bundle.js.map
